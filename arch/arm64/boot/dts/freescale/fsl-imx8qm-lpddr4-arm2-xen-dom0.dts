/*
 * Copyright 2017 NXP
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include "fsl-imx8qm-lpddr4-arm2.dts"

/ {
	/delete-node/ gpu_3d0;
	/delete-node/ gpu_3d1;
	/delete-node/ imx_gpu_ss;
	/delete-node/ rtc;

	chosen {
		#address-cells = <2>;
		#size-cells = <2>;

		/* Potentially overwritten by uboot: */
		module@0 {
			compatible = "xen,linux-zimage", "xen,multiboot-module";
			bootargs = "earlycon=xen console=hvc0 clk_ignore_unused";
			reg = <0x00000000 0x83800000 0x00000000 0x10000>;
		};
	};

	/* MU for guest */
	mu2: mu@5d1d0000 {
		compatible = "fsl,imx8-mu";
		reg = <0x0 0x5d1d0000 0x0 0x10000>;
		interrupts = <GIC_SPI 178 IRQ_TYPE_LEVEL_HIGH>;
		fsl,scu_ap_mu_id = <2>;
		xen,passthrough;
	};
};

&lpuart1 {
	xen,passthrough;
};

&lpuart3 {
	//#pinctrl-names = "default";
	// HACK:
	pinctrl-0 = <&pinctrl_lpuart1 &pinctrl_lpuart3>;
};

